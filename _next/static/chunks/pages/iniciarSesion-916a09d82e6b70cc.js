(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[22],{3951:function(e,t,n){"use strict";function a(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e,t){return(i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,{Z:function(){return l}});var r=n(7294);function o(e){var t=e&&e.ownerDocument||document,n=t.defaultView||t.parentWindow||window;return{document:t,window:n}}function s(e){return e||document.head}var c="hcaptcha-api-script-id",d="hcaptchaOnLoad",h=[],p=function(e){void 0===e&&(e={});var t=s(e.scriptLocation);delete e.scriptLocation;var n=o(t),a=h.find(function(e){return e.scope===n.window});if(n.document.getElementById(c)&&a)return a.promise;var i=new Promise(function(a,i){n.window[d]=a;var r=e.apihost||"https://js.hcaptcha.com";delete e.apihost;var o=n.document.createElement("script");o.id=c,o.src=r+"/1/api.js?render=explicit&onload="+d,o.async=void 0===e.loadAsync||e.loadAsync,delete e.loadAsync,o.onerror=function(e){return i("script-error")};var s=Object.entries(e).filter(function(e){e[0];var t=e[1];return t||!1===t}).map(function(e){var t=e[0],n=e[1];return encodeURIComponent(t)+"="+encodeURIComponent(n)}).join("&");o.src+=""!==s?"&"+s:"",t.appendChild(o)});return h.push({promise:i,scope:n.window}),i},l=function(e){function t(t){var n;return(n=e.call(this,t)||this)._hcaptcha=void 0,n.renderCaptcha=n.renderCaptcha.bind(a(n)),n.resetCaptcha=n.resetCaptcha.bind(a(n)),n.removeCaptcha=n.removeCaptcha.bind(a(n)),n.isReady=n.isReady.bind(a(n)),n.loadCaptcha=n.loadCaptcha.bind(a(n)),n.handleOnLoad=n.handleOnLoad.bind(a(n)),n.handleSubmit=n.handleSubmit.bind(a(n)),n.handleExpire=n.handleExpire.bind(a(n)),n.handleError=n.handleError.bind(a(n)),n.handleOpen=n.handleOpen.bind(a(n)),n.handleClose=n.handleClose.bind(a(n)),n.handleChallengeExpired=n.handleChallengeExpired.bind(a(n)),n.ref=r.createRef(),n.apiScriptRequested=!1,n.state={isApiReady:!1,isRemoved:!1,elementId:t.id,captchaId:""},n}(n=t).prototype=Object.create(e.prototype),n.prototype.constructor=n,i(n,e);var n,c=t.prototype;return c.componentDidMount=function(){var e=this,t=o(s(this.props.scriptLocation));if(this._hcaptcha=t.window.hcaptcha||void 0,void 0!==this._hcaptcha){this.setState({isApiReady:!0},function(){e.renderCaptcha()});return}this.loadCaptcha()},c.componentWillUnmount=function(){var e=this.state.captchaId,t=this._hcaptcha;this.isReady()&&(t.reset(e),t.remove(e))},c.shouldComponentUpdate=function(e,t){return this.state.isApiReady===t.isApiReady&&this.state.isRemoved===t.isRemoved},c.componentDidUpdate=function(e){var t=this;["sitekey","size","theme","tabindex","languageOverride","endpoint"].every(function(n){return e[n]===t.props[n]})||this.removeCaptcha(function(){t.renderCaptcha()})},c.loadCaptcha=function(){if(!this.apiScriptRequested){var e=this.props,t=e.apihost,n=e.assethost,a=e.endpoint,i=e.host,r=e.imghost;p({apihost:t,assethost:n,endpoint:a,hl:e.languageOverride,host:i,imghost:r,recaptchacompat:!1===e.reCaptchaCompat?"off":null,reportapi:e.reportapi,sentry:e.sentry,custom:e.custom,loadAsync:e.loadAsync,scriptLocation:e.scriptLocation}).then(this.handleOnLoad).catch(this.handleError),this.apiScriptRequested=!0}},c.renderCaptcha=function(e){if(this.state.isApiReady){var t=Object.assign({"open-callback":this.handleOpen,"close-callback":this.handleClose,"error-callback":this.handleError,"chalexpired-callback":this.handleChallengeExpired,"expired-callback":this.handleExpire,callback:this.handleSubmit},this.props,{hl:this.props.hl||this.props.languageOverride,languageOverride:void 0}),n=this._hcaptcha.render(this.ref.current,t);this.setState({isRemoved:!1,captchaId:n},function(){e&&e()})}},c.resetCaptcha=function(){var e=this.state.captchaId,t=this._hcaptcha;this.isReady()&&t.reset(e)},c.removeCaptcha=function(e){var t=this.state.captchaId,n=this._hcaptcha;this.isReady()&&this.setState({isRemoved:!0},function(){n.remove(t),e&&e()})},c.handleOnLoad=function(){var e=this;this.setState({isApiReady:!0},function(){var t=o(s(e.props.scriptLocation));e._hcaptcha=t.window.hcaptcha,e.renderCaptcha(function(){var t=e.props.onLoad;t&&t()})})},c.handleSubmit=function(e){var t=this.props.onVerify,n=this.state,a=n.isRemoved,i=n.captchaId,r=this._hcaptcha;if(void 0!==r&&!a){var o=r.getResponse(i),s=r.getRespKey(i);t&&t(o,s)}},c.handleExpire=function(){var e=this.props.onExpire,t=this.state.captchaId,n=this._hcaptcha;this.isReady()&&(n.reset(t),e&&e())},c.handleError=function(e){var t=this.props.onError,n=this.state.captchaId,a=this._hcaptcha;this.isReady()&&a.reset(n),t&&t(e)},c.isReady=function(){var e=this.state,t=e.isApiReady,n=e.isRemoved;return t&&!n},c.handleOpen=function(){this.isReady()&&this.props.onOpen&&this.props.onOpen()},c.handleClose=function(){this.isReady()&&this.props.onClose&&this.props.onClose()},c.handleChallengeExpired=function(){this.isReady()&&this.props.onChalExpired&&this.props.onChalExpired()},c.execute=function(e){void 0===e&&(e=null);var t=this.state.captchaId,n=this._hcaptcha;if(this.isReady())return e&&"object"!=typeof e&&(e=null),n.execute(t,e)},c.setData=function(e){var t=this.state.captchaId,n=this._hcaptcha;this.isReady()&&(e&&"object"!=typeof e&&(e=null),n.setData(t,e))},c.getResponse=function(){return this._hcaptcha.getResponse(this.state.captchaId)},c.getRespKey=function(){return this._hcaptcha.getRespKey(this.state.captchaId)},c.render=function(){var e=this.state.elementId;return r.createElement("div",{ref:this.ref,id:e})},t}(r.Component)},2054:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/iniciarSesion",function(){return n(8924)}])},1582:function(e,t,n){"use strict";n.d(t,{h:function(){return c}});var a=n(5893),i=n(1664),r=n.n(i),o=n(6194),s=n.n(o);let c=e=>{let{}=e;return(0,a.jsx)(r(),{href:"/",className:s().comeBackArrow,children:"â¬…"})}},6661:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var a=n(5893),i=n(7659),r=n.n(i);let o=()=>(0,a.jsx)("div",{className:r().spinnerLoaderContainer,children:(0,a.jsx)("span",{className:r().spinnerLoader})});var s=n(7357),c=n.n(s),d=n(7294);function h(){let[e,t]=(0,d.useState)(0);return(0,d.useEffect)(()=>{t(1)},[]),(0,a.jsx)("div",{className:c().fullscreenLoader,style:{opacity:e},children:(0,a.jsx)(o,{})})}},6549:function(e,t,n){"use strict";n.d(t,{L:function(){return a}});let a="https://cryptotruco.com:443"},8924:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var a=n(5893),i=n(5496),r=n.n(i),o=n(5675),s=n.n(o),c=n(7281),d=n.n(c),h=n(7294),p=n(1582),l=n(929),u=n(6661),f=n(1163),_=n(3951),m=n(6549),v=n(9008),g=n.n(v);function x(){let e=(0,f.useRouter)(),[t,n]=(0,h.useState)(""),[i,o]=(0,h.useState)(""),[c,v]=(0,h.useState)(""),[x,y]=(0,h.useState)(!1),b=e=>{""===e.target.value||e.target.value.length<=32&&/^[\w.]+$/i.test(e.target.value)?o(e.target.value):(0,l.Jc)("Caracter invalido ingresado",2e3,"badUser")},C=e=>{v(e.target.value)},R=async()=>{if(t&&i&&c){y(!0);try{let a=await fetch("".concat(m.L,"/login"),{credentials:"include",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:i,password:c,token:t})});if(200!==a.status){y(!1),(0,l.Jc)(await a.text(),3e3,"loginError1");return}o(""),v(""),n(""),(0,l.Qm)("Bienvenido!",3e3,"loginOK"),localStorage.setItem("loggedUser",i),y(!1),e.replace("/")}catch(e){console.error("Algo sali\xf3 mal iniciando sesi\xf3n",e),y(!1),(0,l.Jc)("Algo sali\xf3 mal iniciando sesi\xf3n",2e3,"loginError2")}}else(0,l.Jc)("Falta completar informaci\xf3n",2e3,"missInfo")};return(0,a.jsxs)("main",{className:"".concat(d().main," ").concat(r().className),children:[(0,a.jsx)(g(),{children:(0,a.jsx)("title",{children:"CryptoTruco | Iniciar Sesion"})}),(0,a.jsxs)("div",{className:d().container,children:[x&&(0,a.jsx)(u.Z,{}),(0,a.jsx)(p.h,{}),(0,a.jsx)("div",{className:d().logo,children:(0,a.jsx)(s(),{src:"/banner.png",alt:"CryptoTruco logo",width:300,height:160,priority:!0})}),(0,a.jsx)("h2",{children:"Iniciar Sesion"}),(0,a.jsx)("div",{className:d().inputTitle,children:"Nombre de usuario:"}),(0,a.jsx)("input",{className:d().signInput,type:"text",value:i,onChange:b}),(0,a.jsx)("div",{className:d().inputTitle,children:"Contrase\xf1a:"}),(0,a.jsx)("input",{className:d().signInput,type:"password",value:c,onChange:C}),!x&&(0,a.jsx)("form",{children:(0,a.jsx)(_.Z,{sitekey:"f5ceaaa7-3643-4b13-8ec5-9203014a7020",onVerify:n})}),(0,a.jsx)("button",{onClick:R,className:d().registerBtn,children:"Iniciar Sesion"})]})]})}},929:function(e,t,n){"use strict";n.d(t,{Jc:function(){return i},Qm:function(){return r},Rr:function(){return o}});var a=n(2920);let i=(e,t,n)=>{a.Am.error(e,{position:"bottom-center",hideProgressBar:!0,pauseOnHover:!0,draggable:!1,toastId:n,autoClose:t,theme:"colored"})},r=(e,t,n)=>{a.Am.success(e,{position:"bottom-center",hideProgressBar:!0,pauseOnHover:!0,draggable:!1,toastId:n,autoClose:t,theme:"colored"})},o=(e,t,n)=>{a.Am.info(e,{position:"bottom-center",hideProgressBar:!0,pauseOnHover:!0,draggable:!1,toastId:n,autoClose:t,theme:"colored"})}},5496:function(e){e.exports={style:{fontFamily:"'__Manrope_8f5b94', '__Manrope_Fallback_8f5b94'",fontStyle:"normal"},className:"__className_8f5b94"}},6194:function(e){e.exports={comeBackArrow:"ComeBackArrow_comeBackArrow__1reX5"}},7357:function(e){e.exports={fullscreenLoader:"FullscreenLoader_fullscreenLoader__n7EOc"}},7659:function(e){e.exports={spinnerLoaderContainer:"Loader_spinnerLoaderContainer__fln43",spinnerLoader:"Loader_spinnerLoader__KV8D7","spinner-rotation":"Loader_spinner-rotation__YKUiz"}},7281:function(e){e.exports={main:"index_main__NvCNi",container:"index_container__twYoi",button:"index_button___5BsU",signInput:"index_signInput__x7dnO",separator:"index_separator__MFcYy",registerBtn:"index_registerBtn__hLPzF",juego:"index_juego__vgT_U",topName:"index_topName__0rc7t",subtitle:"index_subtitle__hpMKF",gamesContainer:"index_gamesContainer__ssyzo",gameContainer:"index_gameContainer__M_S1K",bold:"index_bold__19udO",coin:"index_coin__eZW80",waiting:"index_waiting__QD1FD",fade:"index_fade__VJjcV",inputTitle:"index_inputTitle__lqWQb",question:"index_question__lMQrt"}}},function(e){e.O(0,[640,774,888,179],function(){return e(e.s=2054)}),_N_E=e.O()}]);